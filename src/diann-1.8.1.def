Bootstrap: docker
From: debian:latest

%labels
    Version v0.0.1

%help
    This is a container to run dia-nn. Originally from https://github.com/lzy604/Protpipe

%%post
    export DEBIAN_FRONTEND=noninteractive
    apt-get update
    apt install -y wget unzip
    apt install -y libgomp1
    apt install -y locales-all
    cd /opt
    mkdir diann_exe
    cd diann_exe
    wget https://github.com/vdemichev/DiaNN/releases/download/1.9.1/diann-1.9.1.Linux.zip
    unzip diann-1.9.1.Linux.zip
    rm diann-1.9.1.Linux.zip
    cd diann-1.9.1
    chmod +x diann-linux
    cd /opt
    ln -s diann_exe/diann-1.9.1/diann-linux diann

    unset DEBIAN_FRONTEND

%environment
    export PATH=/opt/diann:$PATH
